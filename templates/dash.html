<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">    <title>Dashboard</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.3.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.datatables.net/2.1.8/css/dataTables.bootstrap5.css">
    <link rel="stylesheet" href="../static/css/dash.css">
    <script defer src="https://code.jquery.com/jquery-3.7.1.js"></script>
    <script defer src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script>
    <script defer src="https://cdn.datatables.net/2.1.8/js/dataTables.js"></script>
    <script defer src="https://cdn.datatables.net/2.1.8/js/dataTables.bootstrap5.js"></script>
    <script defer src="../static/javascript/dash.js"></script>

    <!-- FONT IMPORT -->
    <link rel="preconnect" href="https://fonts.gstatic.com/">
    <link rel="preload" data-rocket-preload as="font" href="https://fonts.gstatic.com/s/bebasneue/v14/JTUSjIg69CK48gW7PXoo9Wlhyw.woff2" crossorigin>
    <link rel="preload" data-rocket-preload as="font" href="https://fonts.gstatic.com/s/lato/v24/S6uyw4BMUTPHjx4wXg.woff2" crossorigin>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Lato:wght@400;700&display=swap" rel="stylesheet">
</head>

{%extends "headerFooter.html"%}
{%block mainBlock%}

<!-- https://www.youtube.com/watch?v=EKSPK_Zk9X8 This tutorial helped me add click events in javascript for bootstrap, and additional formatting within this webpage -->
<body>
    <div class="rounded-5 border border-3 border-primary p-4 responsive-border">
        <div class="table-responsive">
            <table id="changeLog" class="table table-striped table-hover" style="width:100%">
                <figure class="text-center"><h1 class="text-align-center" id="header-text">Change Log</h1></figure>
                <thead>
                    <tr>
                        <th>User ID</th>
                        <th>Developer</th>
                        <th>Time of Change</th>
                        <th>Info</th>
                    </tr>
                </thead>
                <tbody>
                    {% for row in changelog_data %}
                    <tr>
                        <td>{{ row[0] }}</td>
                        <td>{{ row[1] }}</td>
                        <td>{{ row[2] }}</td>
                        <td>
                            <button class="btn btn-secondary dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">More Details</button>
                            <ul class="dropdown-menu">
                                {% for item in row[3].split(",") %}
                                    <li><a class="dropdown-item" href="#">{{ item | replace(';', ',') | replace('`', '') }}</a></li>
                                {% endfor %}
                            </ul>
                        </td>
                    </tr>
                    {% endfor %}
                    {% for row in customer_data %}
                    <tr>
                        <td>{{ row[0] }}</td>
                        <td>{{ row[3] }}</td>
                        <td>{{ row[2] }}</td>
                        <td>{{ row[1] }}</td>
                    </tr>
                    {% endfor %}
                </tbody>
                <tfoot>
                    <tr>
                        <th>User ID</th>
                        <th>Company</th>
                        <th>Time of Change</th>
                        <th>Info</th>
                    </tr>
                </tfoot>
            </table>
        </div>
    </div>
    {%endblock%}
</body>
</html>